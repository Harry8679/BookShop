{% extends 'base.html.twig' %}

{% block title %}Mes commandes ‚Äî HolyBloom{% endblock %}

{% block body %}
<section class="py-5 bg-light min-vh-100">
  <div class="container">
    <h2 class="fw-bold text-holybloom mb-4">
      <i class="bi bi-box-seam me-2"></i> Mes commandes
    </h2>

    {% if orders is not empty %}
      <div class="table-responsive shadow-sm rounded-4 bg-white p-4">
        <table class="table align-middle">
          <thead>
            <tr>
              <th>ID</th>
              <th>Date</th>
              <th>Montant total</th>
              <th>Statut</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for order in orders %}
              <tr>
                <td>#{{ order.id }}</td>
                <td>{{ order.createdAt|date('d/m/Y H:i') }}</td>
                <td>{{ order.total|number_format(2, ',', ' ') }} ‚Ç¨</td>
                <td>
                  {% if order.status == 'paid' %}
                    <span class="badge bg-success">Pay√©e</span>
                  {% elseif order.status == 'pending' %}
                    <span class="badge bg-warning text-dark">En attente</span>
                  {% else %}
                    <span class="badge bg-secondary">{{ order.status }}</span>
                  {% endif %}
                </td>
                <td>
                  <a href="{{ path('app_user_order_show', { id: order.id }) }}" class="btn btn-sm btn-outline-primary">
                    Voir
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-center text-muted mt-5">Vous n‚Äôavez encore aucune commande üõçÔ∏è</p>
    {% endif %}
  </div>
</section>

<style>
  .text-holybloom { color: #b97add; }
</style>
{% endblock %}