{% extends 'base.html.twig' %}

{% block title %}Connexion â€” HolyBloom{% endblock %}

{% block body %}
<section class="min-vh-100 d-flex align-items-center justify-content-center bg-gradient">
  <div class="card shadow-lg border-0 rounded-4 p-4 p-md-5" style="max-width: 480px; width: 100%;">
    
    {# --- Titre --- #}
    <div class="text-center mb-4">
      <h1 class="fw-bold text-holybloom mb-2">
        <i class="bi bi-heart-fill me-2"></i> Heureuse de vous revoir ğŸŒ¸
      </h1>
      <p class="text-secondary small">Connectez-vous Ã  votre espace de bÃ©nÃ©diction âœ¨</p>
    </div>

    {# --- Message dâ€™erreur --- #}
    {% if error %}
      <div class="alert alert-danger rounded-3 text-center small">
        {{ error.messageKey|trans(error.messageData, 'security') }}
      </div>
    {% endif %}

    <form method="post" novalidate class="mt-3">

      <div class="mb-3">
        <label for="inputEmail" class="form-label fw-semibold">Adresse e-mail</label>
        <input type="email" value="{{ last_username }}" name="email" id="inputEmail" required autofocus
          class="form-control rounded-3 border-holybloom focus-ring"
          placeholder="exemple@gmail.com">
      </div>

      <div class="mb-3">
        <label for="inputPassword" class="form-label fw-semibold">Mot de passe</label>
        <input type="password" name="password" id="inputPassword" required autocomplete="current-password"
          class="form-control rounded-3 border-holybloom focus-ring"
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
      </div>

      <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

      <div class="d-grid mt-4">
        <button class="btn btn-holybloom py-2 fw-semibold rounded-3 shadow-sm">
          ğŸ” Se connecter
        </button>
      </div>
    </form>

    <div class="text-center mt-4">
      <a href="#" class="text-secondary small text-decoration-none hover-holybloom">
        Mot de passe oubliÃ© ?
      </a>
    </div>

    <p class="text-center text-muted small mt-4">
      Pas encore de compte ?
      <a href="{{ path('app_register') }}" class="text-holybloom fw-semibold text-decoration-none">
        Je m'inscris âœ¨
      </a>
    </p>
  </div>
</section>

{# --- Styles personnalisÃ©s HolyBloom --- #}
<style>
  /* ğŸŒ¸ DÃ©gradÃ© HolyBloom */
  .bg-gradient {
    background: linear-gradient(180deg, #f5e8ff 0%, #ffffff 60%, #fdf2f8 100%);
  }

  /* ğŸ’œ Couleurs principales */
  .text-holybloom {
    color: #b97add !important;
  }
  .border-holybloom {
    border-color: #e3c4f5 !important;
  }
  .btn-holybloom {
    background-color: #b97add;
    border: none;
    color: #fff;
    transition: all 0.3s ease;
  }
  .btn-holybloom:hover {
    background-color: #a25ed1;
    transform: translateY(-2px);
  }

  /* ğŸ’« Focus champ */
  .focus-ring:focus {
    border-color: #b97add !important;
    box-shadow: 0 0 0 0.25rem rgba(185, 122, 221, 0.25) !important;
  }

  /* ğŸ”— Liens hover */
  .hover-holybloom:hover {
    color: #b97add !important;
  }

  /* ğŸ•Šï¸ Carte */
  .card {
    border: 1px solid rgba(185, 122, 221, 0.1);
    background-color: #fff;
  }
</style>
{% endblock %}