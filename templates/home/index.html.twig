{% extends 'base.html.twig' %}

{% block title %}Accueil - HolyBloom{% endblock %}

{% block body %}

<!-- SECTION : COLLECTIONS -->
<section class="bg-white py-5">
  <div class="container text-center">
    <h2 class="fw-semibold mb-5 text-dark">Collections de la boutique</h2>

    {% if categories is not empty %}
      <div class="row g-4 justify-content-center">
        {% for category in categories %}
          <div class="col-6 col-md-3">
            <a href="{{ path('app_category_show', { id: category.id }) }}"
               class="text-decoration-none text-dark d-block shadow-sm rounded-4 overflow-hidden position-relative hover-shadow transition">
              {% if category.imageName %}
                <img src="{{ asset('uploads/images/categories/' ~ category.imageName) }}"
                     alt="{{ category.name }}"
                     class="img-fluid rounded-top object-fit-cover"
                     style="height: 240px; width: 100%; object-fit: cover;">
              {% else %}
                <div class="bg-light d-flex align-items-center justify-content-center" style="height: 240px;">
                  <span class="text-muted">Pas d’image</span>
                </div>
              {% endif %}
              <div class="py-3 bg-white">
                <span class="fw-medium text-dark">{{ category.name }}</span>
              </div>
            </a>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-muted mt-4">Aucune catégorie disponible pour le moment.</p>
    {% endif %}
  </div>
</section>

<!-- SECTION : NOUVEAUTÉS -->
<section class="bg-light py-5 border-top">
  <div class="container text-center">
    <h2 class="fw-semibold mb-5 text-dark">Nouveautés ✨</h2>

    <div class="row g-4 justify-content-center">
      {% set nouveautés = [
          'https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=crop&w=900&q=80',
          'https://images.unsplash.com/photo-1516414447565-b14be0adf13e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8Y2FybmV0fGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=900'
      ] %}

      {% for img in nouveautés %}
        <div class="col-md-6 col-lg-5">
          <div class="card border-0 shadow-sm h-100 overflow-hidden">
            <div class="overflow-hidden">
              <img src="{{ img }}" alt="Produit" class="card-img-top transition"
                   style="height: 320px; object-fit: cover;">
            </div>
            <div class="card-body text-start">
              <h3 class="h5 fw-semibold text-dark">Produit {{ loop.index }}</h3>
              <p class="text-muted mb-2">Un design unique, pensé pour l’élégance.</p>
              <span class="text-primary fw-semibold fs-5">29,90 €</span>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}